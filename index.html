<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåà Color Wizard | –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞–ª–∏—Ç—Ä</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --neon-pink: #ff00ff;
            --neon-blue: #00ffff;
            --neon-green: #00ff00;
            --neon-yellow: #ffff00;
            --neon-purple: #9d00ff;
            --space-black: #0a0a0f;
            --space-purple: #1a0a2e;
            --space-blue: #0a1a2e;
            --glass-white: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, var(--space-black), var(--space-purple), var(--space-blue));
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω */
        .gradient-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(255, 0, 255, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(0, 255, 255, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(255, 255, 0, 0.1) 0%, transparent 50%);
            animation: pulse 15s ease-in-out infinite alternate;
            z-index: -2;
        }

        @keyframes pulse {
            0% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        /* –ß–∞—Å—Ç–∏—Ü—ã */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            animation: float var(--duration) linear infinite;
        }

        @keyframes float {
            from { transform: translateY(100vh) rotate(0deg); }
            to { transform: translateY(-100px) rotate(360deg); }
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* –®–∞–ø–∫–∞ */
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: var(--glass-white);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            border: 1px solid var(--glass-border);
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.3),
                0 0 0 1px rgba(255, 0, 255, 0.1);
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 10px;
        }

        .logo i {
            font-size: 2.5rem;
            background: linear-gradient(45deg, var(--neon-pink), var(--neon-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 10px rgba(255, 0, 255, 0.5));
        }

        .logo h1 {
            font-size: 2.2rem;
            background: linear-gradient(90deg, var(--neon-pink), var(--neon-blue), var(--neon-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 20px rgba(255, 0, 255, 0.3);
        }

        .tagline {
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.1rem;
            margin-top: 5px;
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        /* –ö–∞—Ä—Ç–æ—á–∫–∏ */
        .card {
            background: var(--glass-white);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 25px;
            border: 1px solid var(--glass-border);
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.2),
                0 0 0 1px rgba(0, 255, 255, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.3),
                0 0 0 1px rgba(255, 0, 255, 0.2);
        }

        .card-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            font-size: 1.3rem;
            color: var(--neon-blue);
        }

        .card-title i {
            font-size: 1.5rem;
        }

        /* –ö–Ω–æ–ø–∫–∏ */
        .btn {
            padding: 12px 25px;
            border-radius: 15px;
            border: none;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-primary {
            background: linear-gradient(90deg, var(--neon-pink), var(--neon-blue));
            color: white;
            border: 1px solid transparent;
        }

        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(255, 0, 255, 0.3);
        }

        .btn-secondary {
            background: var(--glass-white);
            color: white;
            border: 1px solid var(--glass-border);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
        }

        .btn-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        /* –ü–∞–ª–∏—Ç—Ä–∞ —Ü–≤–µ—Ç–æ–≤ */
        .color-palette {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .color-item {
            height: 80px;
            border-radius: 15px;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease;
            border: 2px solid transparent;
        }

        .color-item:hover {
            transform: scale(1.05);
            border-color: white;
        }

        .color-item.active {
            border-color: white;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }

        .color-code {
            position: absolute;
            bottom: 5px;
            left: 0;
            right: 0;
            text-align: center;
            font-family: monospace;
            font-size: 0.9rem;
            background: rgba(0, 0, 0, 0.7);
            padding: 3px;
            border-radius: 5px;
            margin: 0 5px;
        }

        /* –ì—Ä–∞–¥–∏–µ–Ω—Ç –ø—Ä–µ–≤—å—é */
        .gradient-preview {
            height: 150px;
            border-radius: 20px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
            border: 2px solid var(--glass-border);
        }

        .gradient-code {
            position: absolute;
            bottom: 10px;
            left: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.8);
            padding: 10px;
            border-radius: 10px;
            font-family: monospace;
            font-size: 0.9rem;
            text-align: center;
        }

        /* –°—Ö–µ–º—ã —Ü–≤–µ—Ç–æ–≤ */
        .schemes-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 15px;
        }

        .scheme-btn {
            padding: 15px;
            border-radius: 15px;
            background: var(--glass-white);
            border: 1px solid var(--glass-border);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .scheme-btn:hover, .scheme-btn.active {
            background: linear-gradient(45deg, var(--neon-pink), var(--neon-blue));
            border-color: transparent;
            transform: scale(1.05);
        }

        /* –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏—è */
        .actions-bar {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            background: linear-gradient(90deg, var(--neon-green), var(--neon-blue));
            color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transform: translateX(150%);
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 1000;
        }

        .notification.show {
            transform: translateX(0);
        }

        /* –¶–≤–µ—Ç–æ–≤–æ–π –∫—Ä—É–≥ */
        .color-wheel-container {
            text-align: center;
            margin: 20px 0;
        }

        #colorWheel {
            border-radius: 50%;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 3px solid var(--glass-border);
        }

        /* –§—É—Ç–µ—Ä */
        .footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9rem;
            border-top: 1px solid var(--glass-border);
        }

        /* –¶–≤–µ—Ç–æ–≤–æ–π –≤–≤–æ–¥ */
        .color-input-container {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-top: 20px;
        }

        .color-input-container input[type="text"] {
            flex: 1;
            padding: 12px;
            border-radius: 10px;
            background: rgba(255,255,255,0.1);
            border: 1px solid var(--glass-border);
            color: white;
            font-family: monospace;
            font-size: 1rem;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }
            
            .color-palette {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .schemes-grid {
                grid-template-columns: 1fr;
            }
            
            .btn {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
            
            .actions-bar {
                gap: 10px;
            }
        }

        /* –ü—Ä–æ—Å—Ç–æ–π —Ü–≤–µ—Ç–æ–≤–æ–π –∫—Ä—É–≥ */
        .simple-wheel {
            width: 300px;
            height: 300px;
            border-radius: 50%;
            margin: 0 auto;
            background: conic-gradient(
                red, yellow, lime, aqua, blue, magenta, red
            );
            border: 3px solid white;
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.3);
            position: relative;
            cursor: crosshair;
        }

        .wheel-pointer {
            position: absolute;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            border: 2px solid black;
            transform: translate(-50%, -50%);
            pointer-events: none;
        }
    </style>
</head>
<body>
    <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω -->
    <div class="gradient-bg"></div>
    <div class="particles" id="particles"></div>

    <div class="container">
        <!-- –®–∞–ø–∫–∞ -->
        <header class="header">
            <div class="logo">
                <i class="fas fa-wand-magic-sparkles"></i>
                <h1>Color Wizard</h1>
            </div>
            <p class="tagline">–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∏–¥–µ–∞–ª—å–Ω—ã–µ —Ü–≤–µ—Ç–æ–≤—ã–µ –ø–∞–ª–∏—Ç—Ä—ã</p>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <div class="main-content">
            <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –≤—ã–±–æ—Ä —Ü–≤–µ—Ç–∞ -->
            <div class="card">
                <h2 class="card-title">
                    <i class="fas fa-palette"></i>
                    –í—ã–±–æ—Ä —Ü–≤–µ—Ç–∞
                </h2>
                
                <!-- –ü—Ä–æ—Å—Ç–æ–π —Ü–≤–µ—Ç–æ–≤–æ–π –∫—Ä—É–≥ -->
                <div class="color-wheel-container">
                    <div class="simple-wheel" id="simpleWheel">
                        <div class="wheel-pointer" id="wheelPointer"></div>
                    </div>
                </div>
                
                <div class="btn-group">
                    <button class="btn btn-primary" id="colorPickerBtn">
                        <i class="fas fa-eye-dropper"></i>
                        –í—ã–±—Ä–∞—Ç—å —Ü–≤–µ—Ç
                    </button>
                    <button class="btn btn-secondary" id="randomColorBtn">
                        <i class="fas fa-random"></i>
                        –°–ª—É—á–∞–π–Ω—ã–π —Ü–≤–µ—Ç
                    </button>
                    <input type="color" id="colorInput" style="display: none;">
                </div>

                <div style="margin-top: 20px;">
                    <h3 style="margin-bottom: 10px; color: var(--neon-blue);">–¢–µ–∫—É—â–∏–π —Ü–≤–µ—Ç:</h3>
                    <div class="color-input-container">
                        <input type="text" id="colorCode" readonly value="#FF6B6B">
                        <button class="btn btn-secondary" id="copyColorBtn">
                            <i class="far fa-copy"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –ø–∞–ª–∏—Ç—Ä–∞ -->
            <div class="card">
                <h2 class="card-title">
                    <i class="fas fa-star"></i>
                    –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞
                </h2>

                <div class="color-palette" id="colorPalette">
                    <!-- –¶–≤–µ—Ç–∞ –±—É–¥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
                </div>

                <div style="margin: 25px 0;">
                    <h3 style="margin-bottom: 10px; color: var(--neon-green);">
                        <i class="fas fa-fill-drip"></i>
                        –ì—Ä–∞–¥–∏–µ–Ω—Ç
                    </h3>
                    <div class="gradient-preview" id="gradientPreview"></div>
                </div>
            </div>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å —Ü–≤–µ—Ç–æ–≤—ã—Ö —Å—Ö–µ–º -->
        <div class="card" style="margin-top: 20px;">
            <h2 class="card-title">
                <i class="fas fa-magic"></i>
                –¶–≤–µ—Ç–æ–≤—ã–µ —Å—Ö–µ–º—ã
            </h2>
            <div class="schemes-grid" id="schemesGrid">
                <!-- –°—Ö–µ–º—ã –±—É–¥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
            </div>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å –¥–µ–π—Å—Ç–≤–∏–π -->
        <div class="actions-bar">
            <button class="btn btn-primary" id="generatePaletteBtn">
                <i class="fas fa-bolt"></i>
                –ù–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞
            </button>
            <button class="btn btn-secondary" id="saveBtn">
                <i class="far fa-save"></i>
                –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
            </button>
        </div>

        <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
        <div class="notification" id="notification">
            <i class="fas fa-check-circle"></i>
            <span id="notificationText">–¢–µ–∫—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
        </div>

        <!-- –§—É—Ç–µ—Ä -->
        <footer class="footer">
            <p>Color Wizard v1.0 ‚Ä¢ –ò–¥–µ–∞–ª—å–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è –≤–∞—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤</p>
            <p style="margin-top: 5px; font-size: 0.8rem;">
                <i class="fas fa-mobile-alt"></i> –†–∞–±–æ—Ç–∞–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ Telegram
            </p>
        </footer>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        const tg = window.Telegram?.WebApp;
        if (tg) {
            tg.ready();
            tg.expand();
        }

        // –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
        let currentColor = '#FF6B6B';
        let currentPalette = [];
        let savedPalettes = JSON.parse(localStorage.getItem('savedPalettes')) || [];

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            initSimpleColorWheel();
            createParticles();
            generatePalette();
            setupEventListeners();
            showNotification('–ì–æ—Ç–æ–≤ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –ø–∞–ª–∏—Ç—Ä!', 'success');
        });

        // –°–æ–∑–¥–∞–Ω–∏–µ —á–∞—Å—Ç–∏—Ü —Ñ–æ–Ω–∞
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 30;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                const size = Math.random() * 4 + 1;
                const duration = Math.random() * 20 + 10;
                const delay = Math.random() * 5;
                const color = `rgba(${Math.floor(Math.random() * 255)}, 
                                   ${Math.floor(Math.random() * 255)}, 
                                   ${Math.floor(Math.random() * 255)}, 
                                   ${Math.random() * 0.3 + 0.1})`;
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${Math.random() * 100}vw`;
                particle.style.background = color;
                particle.style.setProperty('--duration', `${duration}s`);
                particle.style.animationDelay = `${delay}s`;
                
                particlesContainer.appendChild(particle);
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Ü–≤–µ—Ç–æ–≤–æ–≥–æ –∫—Ä—É–≥–∞
        function initSimpleColorWheel() {
            const wheel = document.getElementById('simpleWheel');
            const pointer = document.getElementById('wheelPointer');
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é —É–∫–∞–∑–∞—Ç–µ–ª—è
            pointer.style.left = '75%';
            pointer.style.top = '50%';
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ –∫—Ä—É–≥—É
            wheel.addEventListener('click', function(e) {
                const rect = wheel.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                // –ü–µ—Ä–µ–º–µ—â–∞–µ–º —É–∫–∞–∑–∞—Ç–µ–ª—å
                pointer.style.left = x + 'px';
                pointer.style.top = y + 'px';
                
                // –í—ã—á–∏—Å–ª—è–µ–º —É–≥–æ–ª –∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                const dx = x - centerX;
                const dy = y - centerY;
                
                // –í—ã—á–∏—Å–ª—è–µ–º —É–≥–æ–ª (0-360 –≥—Ä–∞–¥—É—Å–æ–≤)
                let angle = Math.atan2(dy, dx) * 180 / Math.PI;
                if (angle < 0) angle += 360;
                
                // –í—ã—á–∏—Å–ª—è–µ–º –Ω–∞—Å—ã—â–µ–Ω–Ω–æ—Å—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –æ—Ç —Ü–µ–Ω—Ç—Ä–∞
                const distance = Math.sqrt(dx * dx + dy * dy);
                const maxDistance = centerX;
                let saturation = Math.min(100, (distance / maxDistance) * 100);
                
                // –ï—Å–ª–∏ –∫–ª–∏–∫ –±–ª–∏–∑–∫–æ –∫ —Ü–µ–Ω—Ç—Ä—É, –¥–µ–ª–∞–µ–º –±–µ–ª—ã–π —Ü–≤–µ—Ç
                if (distance < 20) {
                    currentColor = '#FFFFFF';
                } else {
                    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ü–≤–µ—Ç –ø–æ HSL
                    currentColor = hslToHex(angle, saturation, 50);
                }
                
                updateColor(currentColor);
            });
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞–ª–∏—Ç—Ä—ã
        function generatePalette(baseColor = currentColor) {
            currentPalette = generateColorScheme(baseColor);
            renderPalette();
            renderGradient();
            renderColorSchemes();
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ü–≤–µ—Ç–æ–≤–æ–π —Å—Ö–µ–º—ã
        function generateColorScheme(baseColor) {
            const hex = baseColor.replace('#', '');
            const r = parseInt(hex.substr(0, 2), 16);
            const g = parseInt(hex.substr(2, 2), 16);
            const b = parseInt(hex.substr(4, 2), 16);
            
            const hsl = rgbToHsl(r, g, b);
            const colors = [];
            
            // –û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç
            colors.push(baseColor);
            
            // –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ —Ü–≤–µ—Ç–∞
            colors.push(hslToHex((hsl[0] + 30) % 360, hsl[1], hsl[2]));
            colors.push(hslToHex((hsl[0] - 30 + 360) % 360, hsl[1], hsl[2]));
            
            // –ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–µ —Ü–≤–µ—Ç–∞
            colors.push(hslToHex((hsl[0] + 180) % 360, hsl[1], hsl[2]));
            colors.push(hslToHex((hsl[0] + 120) % 360, hsl[1], hsl[2]));
            
            return colors;
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–∞–ª–∏—Ç—Ä—ã
        function renderPalette() {
            const paletteContainer = document.getElementById('colorPalette');
            paletteContainer.innerHTML = '';
            
            currentPalette.forEach((color, index) => {
                const colorItem = document.createElement('div');
                colorItem.className = 'color-item';
                colorItem.style.background = color;
                colorItem.dataset.color = color;
                
                const colorCode = document.createElement('div');
                colorCode.className = 'color-code';
                colorCode.textContent = color;
                
                colorItem.appendChild(colorCode);
                
                colorItem.addEventListener('click', function() {
                    // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö
                    document.querySelectorAll('.color-item').forEach(item => {
                        item.classList.remove('active');
                    });
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Ç–µ–∫—É—â–µ–º—É
                    this.classList.add('active');
                    
                    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç
                    currentColor = color;
                    updateColor(color);
                });
                
                // –ü–µ—Ä–≤—ã–π —Ü–≤–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
                if (index === 0) {
                    colorItem.classList.add('active');
                }
                
                paletteContainer.appendChild(colorItem);
            });
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞
        function renderGradient() {
            const gradientPreview = document.getElementById('gradientPreview');
            const gradientCode = gradientPreview.querySelector('.gradient-code') || 
                                document.createElement('div');
            
            // –°–æ–∑–¥–∞–µ–º –∫—Ä–∞—Å–∏–≤—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç –∏–∑ –ø–∞–ª–∏—Ç—Ä—ã
            const gradient = `linear-gradient(135deg, ${currentPalette[0]}, ${currentPalette[2]}, ${currentPalette[4]})`;
            gradientPreview.style.background = gradient;
            
            gradientCode.className = 'gradient-code';
            gradientCode.textContent = `${currentPalette[0]} ‚Üí ${currentPalette[2]} ‚Üí ${currentPalette[4]}`;
            
            if (!gradientPreview.contains(gradientCode)) {
                gradientPreview.appendChild(gradientCode);
            }
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤—ã—Ö —Å—Ö–µ–º
        function renderColorSchemes() {
            const schemesGrid = document.getElementById('schemesGrid');
            schemesGrid.innerHTML = '';
            
            const schemes = [
                { name: '–ú–æ–Ω–æ—Ö—Ä–æ–º', icon: 'fas fa-circle', type: 'monochrome' },
                { name: '–ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è', icon: 'fas fa-sliders-h', type: 'analogous' },
                { name: '–¢—Ä–∏–∞–¥–∞', icon: 'fas fa-play-circle', type: 'triad' },
                { name: '–ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–∞—è', icon: 'fas fa-adjust', type: 'complementary' },
                { name: '–ù–µ–æ–Ω', icon: 'fas fa-bolt', type: 'neon' },
                { name: '–ü–∞—Å—Ç–µ–ª—å', icon: 'fas fa-cloud', type: 'pastel' },
                { name: '–†–∞–¥—É–≥–∞', icon: 'fas fa-rainbow', type: 'rainbow' },
                { name: '–¢—ë–º–Ω–∞—è', icon: 'fas fa-moon', type: 'dark' }
            ];
            
            schemes.forEach(scheme => {
                const button = document.createElement('button');
                button.className = 'scheme-btn';
                button.innerHTML = `
                    <i class="${scheme.icon}"></i>
                    <div style="margin-top: 5px; font-size: 0.9rem;">${scheme.name}</div>
                `;
                
                button.addEventListener('click', () => {
                    applyColorScheme(scheme.type);
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
                    document.querySelectorAll('.scheme-btn').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    button.classList.add('active');
                });
                
                schemesGrid.appendChild(button);
            });
        }

        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤–æ–π —Å—Ö–µ–º—ã
        function applyColorScheme(schemeType) {
            const hex = currentColor.replace('#', '');
            const r = parseInt(hex.substr(0, 2), 16);
            const g = parseInt(hex.substr(2, 2), 16);
            const b = parseInt(hex.substr(4, 2), 16);
            const hsl = rgbToHsl(r, g, b);
            
            let newPalette = [];
            
            switch(schemeType) {
                case 'monochrome':
                    newPalette = generateMonochromatic(hsl);
                    break;
                case 'analogous':
                    newPalette = generateAnalogous(hsl);
                    break;
                case 'triad':
                    newPalette = generateTriad(hsl);
                    break;
                case 'complementary':
                    newPalette = generateComplementary(hsl);
                    break;
                case 'neon':
                    newPalette = generateNeon(hsl);
                    break;
                case 'pastel':
                    newPalette = generatePastel(hsl);
                    break;
                case 'rainbow':
                    newPalette = generateRainbow();
                    break;
                case 'dark':
                    newPalette = generateDark(hsl);
                    break;
            }
            
            currentPalette = newPalette;
            renderPalette();
            renderGradient();
            showNotification(`–°—Ö–µ–º–∞ "${schemeType}" –ø—Ä–∏–º–µ–Ω–µ–Ω–∞`, 'info');
        }

        // –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ö–µ–º
        function generateMonochromatic(hsl) {
            return [
                hslToHex(hsl[0], hsl[1], hsl[2]),
                hslToHex(hsl[0], hsl[1], hsl[2] + 15),
                hslToHex(hsl[0], hsl[1], hsl[2] + 30),
                hslToHex(hsl[0], hsl[1], hsl[2] - 15),
                hslToHex(hsl[0], hsl[1], hsl[2] - 30)
            ];
        }

        function generateAnalogous(hsl) {
            return [
                hslToHex((hsl[0] - 30 + 360) % 360, hsl[1], hsl[2]),
                hslToHex((hsl[0] - 15 + 360) % 360, hsl[1], hsl[2]),
                hslToHex(hsl[0], hsl[1], hsl[2]),
                hslToHex((hsl[0] + 15) % 360, hsl[1], hsl[2]),
                hslToHex((hsl[0] + 30) % 360, hsl[1], hsl[2])
            ];
        }

        function generateTriad(hsl) {
            return [
                hslToHex(hsl[0], hsl[1], hsl[2]),
                hslToHex((hsl[0] + 120) % 360, hsl[1], hsl[2]),
                hslToHex((hsl[0] + 240) % 360, hsl[1], hsl[2]),
                hslToHex((hsl[0] + 60) % 360, hsl[1], hsl[2]),
                hslToHex((hsl[0] + 180) % 360, hsl[1], hsl[2])
            ];
        }

        function generateComplementary(hsl) {
            return [
                hslToHex(hsl[0], hsl[1], hsl[2]),
                hslToHex((hsl[0] + 180) % 360, hsl[1], hsl[2]),
                hslToHex(hsl[0], hsl[1], hsl[2] + 20),
                hslToHex((hsl[0] + 180) % 360, hsl[1], hsl[2] + 20),
                hslToHex(hsl[0], hsl[1], hsl[2] - 20)
            ];
        }

        function generateNeon(hsl) {
            return [
                hslToHex(hsl[0], 100, 60),
                hslToHex((hsl[0] + 30) % 360, 100, 60),
                hslToHex((hsl[0] + 60) % 360, 100, 60),
                hslToHex((hsl[0] + 90) % 360, 100, 60),
                hslToHex((hsl[0] + 120) % 360, 100, 60)
            ];
        }

        function generatePastel(hsl) {
            return [
                hslToHex(hsl[0], 40, 85),
                hslToHex((hsl[0] + 30) % 360, 40, 85),
                hslToHex((hsl[0] + 60) % 360, 40, 85),
                hslToHex((hsl[0] + 90) % 360, 40, 85),
                hslToHex((hsl[0] + 120) % 360, 40, 85)
            ];
        }

        function generateRainbow() {
            return [
                '#FF6B6B', // –ö—Ä–∞—Å–Ω—ã–π
                '#FFD166', // –ñ–µ–ª—Ç—ã–π
                '#06D6A0', // –ó–µ–ª–µ–Ω—ã–π
                '#118AB2', // –°–∏–Ω–∏–π
                '#7209B7'  // –§–∏–æ–ª–µ—Ç–æ–≤—ã–π
            ];
        }

        function generateDark(hsl) {
            return [
                hslToHex(hsl[0], hsl[1], 20),
                hslToHex((hsl[0] + 30) % 360, hsl[1], 25),
                hslToHex((hsl[0] + 60) % 360, hsl[1], 30),
                hslToHex((hsl[0] + 90) % 360, hsl[1], 35),
                hslToHex((hsl[0] + 120) % 360, hsl[1], 40)
            ];
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Ü–≤–µ—Ç–∞
        function updateColor(color) {
            currentColor = color;
            document.getElementById('colorCode').value = color;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø–∞–ª–∏—Ç—Ä—É
            generatePalette(color);
            
            showNotification(`–¶–≤–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: ${color}`, 'success');
        }

        // –ü–æ–∫–∞–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            const text = document.getElementById('notificationText');
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ü–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
            if (type === 'success') {
                notification.style.background = 'linear-gradient(90deg, var(--neon-green), var(--neon-blue))';
            } else if (type === 'error') {
                notification.style.background = 'linear-gradient(90deg, #ff4757, #ff6b81)';
            } else {
                notification.style.background = 'linear-gradient(90deg, var(--neon-yellow), var(--neon-orange))';
            }
            
            text.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 2000);
        }

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
        function setupEventListeners() {
            // –í—ã–±–æ—Ä —Ü–≤–µ—Ç–∞ —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–∏–∫–µ—Ä
            document.getElementById('colorPickerBtn').addEventListener('click', () => {
                document.getElementById('colorInput').click();
            });
            
            document.getElementById('colorInput').addEventListener('input', (e) => {
                updateColor(e.target.value);
            });
            
            // –°–ª—É—á–∞–π–Ω—ã–π —Ü–≤–µ—Ç
            document.getElementById('randomColorBtn').addEventListener('click', () => {
                const randomColor = '#' + Math.floor(Math.random() * 16777215).toString(16).padStart(6, '0');
                updateColor(randomColor);
            });
            
            // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–≤–µ—Ç–∞
            document.getElementById('copyColorBtn').addEventListener('click', () => {
                navigator.clipboard.writeText(currentColor).then(() => {
                    showNotification('–¶–≤–µ—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!', 'success');
                });
            });
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–π –ø–∞–ª–∏—Ç—Ä—ã
            document.getElementById('generatePaletteBtn').addEventListener('click', () => {
                const randomColor = '#' + Math.floor(Math.random() * 16777215).toString(16).padStart(6, '0');
                updateColor(randomColor);
            });
            
            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞–ª–∏—Ç—Ä—ã
            document.getElementById('saveBtn').addEventListener('click', () => {
                savePalette();
            });
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞–ª–∏—Ç—Ä—ã
        function savePalette() {
            const palette = {
                id: Date.now(),
                colors: currentPalette,
                primary: currentPalette[0],
                date: new Date().toLocaleString(),
                name: `–ü–∞–ª–∏—Ç—Ä–∞ ${savedPalettes.length + 1}`
            };
            
            savedPalettes.push(palette);
            localStorage.setItem('savedPalettes', JSON.stringify(savedPalettes));
            
            showNotification('–ü–∞–ª–∏—Ç—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ!', 'success');
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ü–≤–µ—Ç–∞–º–∏
        function rgbToHex(r, g, b) {
            return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase();
        }

        function rgbToHsl(r, g, b) {
            r /= 255;
            g /= 255;
            b /= 255;
            
            const max = Math.max(r, g, b);
            const min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;
            
            if (max === min) {
                h = s = 0;
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                
                switch(max) {
                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                    case g: h = (b - r) / d + 2; break;
                    case b: h = (r - g) / d + 4; break;
                }
                
                h /= 6;
            }
            
            return [Math.round(h * 360), Math.round(s * 100), Math.round(l * 100)];
        }

        function hslToHex(h, s, l) {
            h = h % 360;
            s = Math.max(0, Math.min(100, s));
            l = Math.max(0, Math.min(100, l));
            
            s /= 100;
            l /= 100;
            
            const c = (1 - Math.abs(2 * l - 1)) * s;
            const x = c * (1 - Math.abs((h / 60) % 2 - 1));
            const m = l - c / 2;
            
            let r, g, b;
            
            if (h >= 0 && h < 60) {
                [r, g, b] = [c, x, 0];
            } else if (h >= 60 && h < 120) {
                [r, g, b] = [x, c, 0];
            } else if (h >= 120 && h < 180) {
                [r, g, b] = [0, c, x];
            } else if (h >= 180 && h < 240) {
                [r, g, b] = [0, x, c];
            } else if (h >= 240 && h < 300) {
                [r, g, b] = [x, 0, c];
            } else {
                [r, g, b] = [c, 0, x];
            }
            
            r = Math.round((r + m) * 255);
            g = Math.round((g + m) * 255);
            b = Math.round((b + m) * 255);
            
            return `#${((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase()}`;
        }
    </script>
</body>
</html>