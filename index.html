<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåà Color Wizard | –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞–ª–∏—Ç—Ä</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --neon-pink: #ff00ff;
            --neon-blue: #00ffff;
            --neon-green: #00ff00;
            --neon-yellow: #ffff00;
            --neon-purple: #9d00ff;
            --space-black: #0a0a0f;
            --space-purple: #0a0a2e;
            --space-blue: #0a1a3e;
            --glass-white: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, var(--space-black), var(--space-blue), #0d2b5e);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω —Å —Å–∏–Ω–∏–º–∏ –æ—Ç—Ç–µ–Ω–∫–∞–º–∏ */
        .gradient-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(0, 150, 255, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(100, 200, 255, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(0, 100, 255, 0.1) 0%, transparent 50%);
            animation: pulse 15s ease-in-out infinite alternate;
            z-index: -2;
        }

        @keyframes pulse {
            0% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        /* –ß–∞—Å—Ç–∏—Ü—ã */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            background: rgba(100, 200, 255, 0.1);
            animation: float var(--duration) linear infinite;
        }

        @keyframes float {
            from { transform: translateY(100vh) rotate(0deg); }
            to { transform: translateY(-100px) rotate(360deg); }
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            transition: transform 0.3s ease;
        }

        .page {
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .page.active {
            display: block;
            opacity: 1;
        }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .nav-bar {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
            padding: 15px;
            background: var(--glass-white);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            border: 1px solid var(--glass-border);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .nav-btn {
            padding: 12px 25px;
            border-radius: 15px;
            border: none;
            background: transparent;
            color: white;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-btn:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-btn.active {
            background: linear-gradient(90deg, #00a8ff, #00ffff);
            color: white;
        }

        /* –®–∞–ø–∫–∞ */
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: var(--glass-white);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            border: 1px solid var(--glass-border);
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.3),
                0 0 0 1px rgba(0, 150, 255, 0.2);
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 10px;
        }

        .logo i {
            font-size: 2.5rem;
            background: linear-gradient(45deg, #00a8ff, #00ffff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 10px rgba(0, 168, 255, 0.5));
        }

        .logo h1 {
            font-size: 2.2rem;
            background: linear-gradient(90deg, #00a8ff, #00ffff, #0097e6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 20px rgba(0, 168, 255, 0.3);
        }

        .tagline {
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.1rem;
            margin-top: 5px;
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        /* –ö–∞—Ä—Ç–æ—á–∫–∏ */
        .card {
            background: var(--glass-white);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 25px;
            border: 1px solid var(--glass-border);
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.2),
                0 0 0 1px rgba(0, 200, 255, 0.15);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.3),
                0 0 0 1px rgba(0, 150, 255, 0.3);
        }

        .card-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            font-size: 1.3rem;
            color: #00ffff;
        }

        .card-title i {
            font-size: 1.5rem;
        }

        /* –ö–Ω–æ–ø–∫–∏ */
        .btn {
            padding: 12px 25px;
            border-radius: 15px;
            border: none;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-primary {
            background: linear-gradient(90deg, #00a8ff, #00ffff);
            color: white;
            border: 1px solid transparent;
        }

        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0, 168, 255, 0.3);
        }

        .btn-secondary {
            background: var(--glass-white);
            color: white;
            border: 1px solid var(--glass-border);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
        }

        .btn-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        /* –ü–∞–ª–∏—Ç—Ä–∞ —Ü–≤–µ—Ç–æ–≤ */
        .color-palette {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .color-item {
            height: 80px;
            border-radius: 15px;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease;
            border: 2px solid transparent;
        }

        .color-item:hover {
            transform: scale(1.05);
            border-color: white;
        }

        .color-item.active {
            border-color: white;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }

        .color-code {
            position: absolute;
            bottom: 5px;
            left: 0;
            right: 0;
            text-align: center;
            font-family: monospace;
            font-size: 0.9rem;
            background: rgba(0, 0, 0, 0.7);
            padding: 3px;
            border-radius: 5px;
            margin: 0 5px;
        }

        /* –ì—Ä–∞–¥–∏–µ–Ω—Ç –ø—Ä–µ–≤—å—é */
        .gradient-preview {
            height: 150px;
            border-radius: 20px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
            border: 2px solid var(--glass-border);
        }

        .gradient-code {
            position: absolute;
            bottom: 10px;
            left: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.8);
            padding: 10px;
            border-radius: 10px;
            font-family: monospace;
            font-size: 0.9rem;
            text-align: center;
        }

        /* –°—Ö–µ–º—ã —Ü–≤–µ—Ç–æ–≤ */
        .schemes-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 15px;
        }

        .scheme-btn {
            padding: 15px;
            border-radius: 15px;
            background: var(--glass-white);
            border: 1px solid var(--glass-border);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .scheme-btn:hover, .scheme-btn.active {
            background: linear-gradient(45deg, #00a8ff, #00ffff);
            border-color: transparent;
            transform: scale(1.05);
        }

        /* –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏—è */
        .actions-bar {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            background: linear-gradient(90deg, #00ff88, #00ffff);
            color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transform: translateX(150%);
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 1000;
        }

        .notification.show {
            transform: translateX(0);
        }

        /* –¶–≤–µ—Ç–æ–≤–æ–π –∫—Ä—É–≥ */
        .color-wheel-container {
            text-align: center;
            margin: 20px 0;
        }

        #colorWheel {
            border-radius: 50%;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 3px solid var(--glass-border);
        }

        /* –§—É—Ç–µ—Ä */
        .footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9rem;
            border-top: 1px solid var(--glass-border);
        }

        /* –ü–æ–ª–µ –≤–≤–æ–¥–∞ —Ü–≤–µ—Ç–∞ */
        .color-input-container {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-top: 20px;
        }

        .color-input {
            flex: 1;
            padding: 12px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--glass-border);
            color: white;
            font-family: monospace;
            font-size: 1rem;
        }

        .color-input:focus {
            outline: none;
            border-color: #00ffff;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
        }

        /* –¶–≤–µ—Ç–æ–≤–æ–π –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä */
        .color-preview {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            border: 2px solid var(--glass-border);
            flex-shrink: 0;
        }

        /* –ü—Ä–æ—Å—Ç–æ–π —Ü–≤–µ—Ç–æ–≤–æ–π –∫—Ä—É–≥ */
        .simple-wheel {
            width: 300px;
            height: 300px;
            border-radius: 50%;
            margin: 0 auto;
            background: conic-gradient(
                red, yellow, lime, aqua, blue, magenta, red
            );
            border: 3px solid white;
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.3);
            position: relative;
            cursor: crosshair;
        }

        .wheel-pointer {
            position: absolute;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            border: 2px solid black;
            transform: translate(-50%, -50%);
            pointer-events: none;
        }

        /* –®–∞–±–ª–æ–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π */
        .templates-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }

        .template-card {
            background: var(--glass-white);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            overflow: hidden;
            border: 1px solid var(--glass-border);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease;
        }

        .template-card:hover {
            transform: translateY(-5px);
        }

        .template-header {
            padding: 20px;
            text-align: center;
            background: rgba(0, 0, 0, 0.3);
            border-bottom: 1px solid var(--glass-border);
        }

        .template-preview {
            padding: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 400px;
        }

        /* –®–∞–±–ª–æ–Ω –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞ */
        .messenger-app {
            width: 300px;
            height: 500px;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .messenger-header {
            padding: 15px;
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .messenger-nav {
            display: flex;
            padding: 10px 15px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }

        .nav-item {
            flex: 1;
            text-align: center;
            padding: 8px;
            font-size: 14px;
            color: #6c757d;
            cursor: pointer;
        }

        .nav-item.active {
            color: inherit;
            font-weight: 600;
        }

        .messenger-content {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            background: #f8f9fa;
        }

        .message {
            margin-bottom: 15px;
            display: flex;
            flex-direction: column;
        }

        .message.incoming {
            align-items: flex-start;
        }

        .message.outgoing {
            align-items: flex-end;
        }

        .message-bubble {
            padding: 10px 15px;
            border-radius: 18px;
            max-width: 70%;
            font-size: 14px;
        }

        .message-time {
            font-size: 11px;
            color: #6c757d;
            margin-top: 5px;
        }

        .messenger-input {
            padding: 15px;
            background: white;
            border-top: 1px solid #e9ecef;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .input-field {
            flex: 1;
            padding: 10px 15px;
            border: 1px solid #e9ecef;
            border-radius: 20px;
            font-size: 14px;
        }

        .send-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: none;
            background: #007bff;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        /* –®–∞–±–ª–æ–Ω –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ */
        .ecommerce-app {
            width: 300px;
            height: 500px;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
        }

        .ecommerce-header {
            padding: 15px;
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .search-bar {
            padding: 0 15px;
            background: white;
        }

        .search-input {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #e9ecef;
            border-radius: 20px;
            font-size: 14px;
        }

        .ecommerce-content {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            background: #f8f9fa;
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .product-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .product-card:hover {
            transform: translateY(-2px);
        }

        .product-image {
            height: 100px;
            background: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6c757d;
        }

        .product-info {
            padding: 10px;
        }

        .product-title {
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .product-price {
            font-size: 14px;
            font-weight: 700;
            color: #28a745;
        }

        .bottom-nav {
            display: flex;
            padding: 10px;
            background: white;
            border-top: 1px solid #e9ecef;
        }

        .nav-icon {
            flex: 1;
            text-align: center;
            color: #6c757d;
            font-size: 20px;
            cursor: pointer;
        }

        .nav-icon.active {
            color: inherit;
        }

        /* –®–∞–±–ª–æ–Ω –¥–∞—à–±–æ—Ä–¥–∞ */
        .dashboard-app {
            width: 300px;
            height: 500px;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
        }

        .dashboard-header {
            padding: 20px 15px;
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .dashboard-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #f8f9fa;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: white;
            padding: 15px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .stat-title {
            font-size: 12px;
            color: #6c757d;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
        }

        .chart-container {
            background: white;
            padding: 15px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .chart {
            height: 150px;
            background: linear-gradient(to top, #e9ecef, #f8f9fa);
            border-radius: 8px;
            position: relative;
            overflow: hidden;
        }

        .chart-bar {
            position: absolute;
            bottom: 0;
            width: 30px;
            border-radius: 4px 4px 0 0;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }
            
            .color-palette {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .schemes-grid {
                grid-template-columns: 1fr;
            }
            
            .btn {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
            
            .actions-bar {
                gap: 10px;
            }
            
            .simple-wheel {
                width: 250px;
                height: 250px;
            }
            
            .templates-grid {
                grid-template-columns: 1fr;
            }
            
            .template-preview {
                padding: 15px;
                min-height: 300px;
            }
        }
    </style>
</head>
<body>
    <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω -->
    <div class="gradient-bg"></div>
    <div class="particles" id="particles"></div>

    <div class="container">
        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
        <nav class="nav-bar">
            <button class="nav-btn active" data-page="generator">
                <i class="fas fa-palette"></i>
                –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä
            </button>
            <button class="nav-btn" data-page="preview">
                <i class="fas fa-eye"></i>
                –ü—Ä–µ–≤—å—é
            </button>
        </nav>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ -->
        <div class="page active" id="generator">
            <!-- –®–∞–ø–∫–∞ -->
            <header class="header">
                <div class="logo">
                    <i class="fas fa-wand-magic-sparkles"></i>
                    <h1>Color Wizard</h1>
                </div>
                <p class="tagline">–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∏–¥–µ–∞–ª—å–Ω—ã–µ —Ü–≤–µ—Ç–æ–≤—ã–µ –ø–∞–ª–∏—Ç—Ä—ã</p>
            </header>

            <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
            <div class="main-content">
                <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –≤—ã–±–æ—Ä —Ü–≤–µ—Ç–∞ -->
                <div class="card">
                    <h2 class="card-title">
                        <i class="fas fa-palette"></i>
                        –í—ã–±–æ—Ä —Ü–≤–µ—Ç–∞
                    </h2>
                    
                    <!-- –ü—Ä–æ—Å—Ç–æ–π —Ü–≤–µ—Ç–æ–≤–æ–π –∫—Ä—É–≥ -->
                    <div class="color-wheel-container">
                        <div class="simple-wheel" id="simpleWheel">
                            <div class="wheel-pointer" id="wheelPointer"></div>
                        </div>
                    </div>
                    
                    <div class="btn-group">
                        <button class="btn btn-primary" id="colorPickerBtn">
                            <i class="fas fa-eye-dropper"></i>
                            –í—ã–±—Ä–∞—Ç—å —Ü–≤–µ—Ç
                        </button>
                        <button class="btn btn-secondary" id="randomColorBtn">
                            <i class="fas fa-random"></i>
                            –°–ª—É—á–∞–π–Ω—ã–π —Ü–≤–µ—Ç
                        </button>
                        <input type="color" id="colorInput" style="display: none;">
                    </div>

                    <!-- –í–≤–æ–¥ —Ü–≤–µ—Ç–∞ –≤—Ä—É—á–Ω—É—é -->
                    <div style="margin-top: 20px;">
                        <h3 style="margin-bottom: 10px; color: #00ffff;">
                            <i class="fas fa-edit"></i>
                            –í–≤–µ–¥–∏—Ç–µ —Ü–≤–µ—Ç –≤—Ä—É—á–Ω—É—é
                        </h3>
                        <div class="color-input-container">
                            <div class="color-preview" id="colorPreview" style="background: #FF6B6B;"></div>
                            <input type="text" id="colorCode" class="color-input" placeholder="#FFFFFF –∏–ª–∏ rgb(255,255,255)" value="#FF6B6B">
                            <button class="btn btn-secondary" id="applyColorBtn">
                                <i class="fas fa-check"></i>
                            </button>
                            <button class="btn btn-secondary" id="copyColorBtn">
                                <i class="far fa-copy"></i>
                            </button>
                        </div>
                        <p style="font-size: 0.8rem; color: rgba(255, 255, 255, 0.7); margin-top: 5px;">
                            –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç—ã: #FFF, #FFFFFF, rgb(), rgba(), hsl(), hsla()
                        </p>
                    </div>
                </div>

                <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –ø–∞–ª–∏—Ç—Ä–∞ -->
                <div class="card">
                    <h2 class="card-title">
                        <i class="fas fa-star"></i>
                        –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞
                    </h2>

                    <div class="color-palette" id="colorPalette">
                        <!-- –¶–≤–µ—Ç–∞ –±—É–¥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
                    </div>

                    <div style="margin: 25px 0;">
                        <h3 style="margin-bottom: 10px; color: #00ff88;">
                            <i class="fas fa-fill-drip"></i>
                            –ì—Ä–∞–¥–∏–µ–Ω—Ç
                        </h3>
                        <div class="gradient-preview" id="gradientPreview"></div>
                    </div>
                </div>
            </div>

            <!-- –ü–∞–Ω–µ–ª—å —Ü–≤–µ—Ç–æ–≤—ã—Ö —Å—Ö–µ–º -->
            <div class="card" style="margin-top: 20px;">
                <h2 class="card-title">
                    <i class="fas fa-magic"></i>
                    –¶–≤–µ—Ç–æ–≤—ã–µ —Å—Ö–µ–º—ã
                </h2>
                <div class="schemes-grid" id="schemesGrid">
                    <!-- –°—Ö–µ–º—ã –±—É–¥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
                </div>
            </div>

            <!-- –ü–∞–Ω–µ–ª—å –¥–µ–π—Å—Ç–≤–∏–π -->
            <div class="actions-bar">
                <button class="btn btn-primary" id="generatePaletteBtn">
                    <i class="fas fa-bolt"></i>
                    –ù–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞
                </button>
                <button class="btn btn-secondary" id="saveBtn">
                    <i class="far fa-save"></i>
                    –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                </button>
                <button class="btn btn-secondary" id="copyAllBtn">
                    <i class="fas fa-copy"></i>
                    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ
                </button>
                <button class="btn btn-secondary" id="applyToPreviewBtn">
                    <i class="fas fa-eye"></i>
                    –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫ –ø—Ä–µ–≤—å—é
                </button>
            </div>
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–µ–≤—å—é -->
        <div class="page" id="preview">
            <header class="header">
                <div class="logo">
                    <i class="fas fa-eye"></i>
                    <h1>–ü—Ä–µ–≤—å—é —à–∞–±–ª–æ–Ω–æ–≤</h1>
                </div>
                <p class="tagline">–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –∫–∞–∫ –≤–∞—à–∞ –ø–∞–ª–∏—Ç—Ä–∞ –≤—ã–≥–ª—è–¥–∏—Ç –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö</p>
            </header>

            <div class="templates-grid">
                <!-- –®–∞–±–ª–æ–Ω –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞ -->
                <div class="template-card">
                    <div class="template-header">
                        <h3><i class="fas fa-comments"></i> –ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä</h3>
                    </div>
                    <div class="template-preview">
                        <div class="messenger-app" id="messengerTemplate">
                            <div class="messenger-header" id="messengerHeader">
                                <div>
                                    <i class="fas fa-arrow-left"></i>
                                </div>
                                <div style="text-align: center;">
                                    <div style="font-weight: 600;">–î–∏–∞–ª–æ–≥</div>
                                    <div style="font-size: 12px;">–æ–Ω–ª–∞–π–Ω</div>
                                </div>
                                <div>
                                    <i class="fas fa-ellipsis-v"></i>
                                </div>
                            </div>
                            <div class="messenger-nav">
                                <div class="nav-item active">–ß–∞—Ç—ã</div>
                                <div class="nav-item">–ó–≤–æ–Ω–∫–∏</div>
                                <div class="nav-item">–ö–æ–Ω—Ç–∞–∫—Ç—ã</div>
                            </div>
                            <div class="messenger-content">
                                <div class="message incoming">
                                    <div class="message-bubble" id="incomingMsg">–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?</div>
                                    <div class="message-time">10:00</div>
                                </div>
                                <div class="message outgoing">
                                    <div class="message-bubble" id="outgoingMsg">–û—Ç–ª–∏—á–Ω–æ! –°–º–æ—Ç—Ä—é –Ω–æ–≤—É—é –ø–∞–ª–∏—Ç—Ä—É</div>
                                    <div class="message-time">10:01</div>
                                </div>
                                <div class="message incoming">
                                    <div class="message-bubble" id="incomingMsg2">–ö—Ä—É—Ç–æ! –ü–æ–∫–∞–∂–∏</div>
                                    <div class="message-time">10:02</div>
                                </div>
                            </div>
                            <div class="messenger-input">
                                <input type="text" class="input-field" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
                                <button class="send-btn">
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –®–∞–±–ª–æ–Ω –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ -->
                <div class="template-card">
                    <div class="template-header">
                        <h3><i class="fas fa-shopping-cart"></i> –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω</h3>
                    </div>
                    <div class="template-preview">
                        <div class="ecommerce-app" id="ecommerceTemplate">
                            <div class="ecommerce-header" id="ecommerceHeader">
                                <div>
                                    <i class="fas fa-bars"></i>
                                </div>
                                <div style="font-weight: 600;">–ú–∞–≥–∞–∑–∏–Ω</div>
                                <div>
                                    <i class="fas fa-shopping-cart"></i>
                                </div>
                            </div>
                            <div class="search-bar">
                                <input type="text" class="search-input" placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤...">
                            </div>
                            <div class="ecommerce-content">
                                <div class="product-grid">
                                    <div class="product-card">
                                        <div class="product-image">
                                            <i class="fas fa-tshirt fa-2x"></i>
                                        </div>
                                        <div class="product-info">
                                            <div class="product-title">–§—É—Ç–±–æ–ª–∫–∞ Classic</div>
                                            <div class="product-price" id="price1">$24.99</div>
                                        </div>
                                    </div>
                                    <div class="product-card">
                                        <div class="product-image">
                                            <i class="fas fa-headphones fa-2x"></i>
                                        </div>
                                        <div class="product-info">
                                            <div class="product-title">–ù–∞—É—à–Ω–∏–∫–∏ Pro</div>
                                            <div class="product-price" id="price2">$89.99</div>
                                        </div>
                                    </div>
                                    <div class="product-card">
                                        <div class="product-image">
                                            <i class="fas fa-book fa-2x"></i>
                                        </div>
                                        <div class="product-info">
                                            <div class="product-title">–ö–Ω–∏–≥–∞ Design</div>
                                            <div class="product-price" id="price3">$19.99</div>
                                        </div>
                                    </div>
                                    <div class="product-card">
                                        <div class="product-image">
                                            <i class="fas fa-mug-hot fa-2x"></i>
                                        </div>
                                        <div class="product-info">
                                            <div class="product-title">–ö—Ä—É–∂–∫–∞ Premium</div>
                                            <div class="product-price" id="price4">$14.99</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="bottom-nav">
                                <div class="nav-icon active">
                                    <i class="fas fa-home"></i>
                                </div>
                                <div class="nav-icon">
                                    <i class="fas fa-search"></i>
                                </div>
                                <div class="nav-icon">
                                    <i class="fas fa-heart"></i>
                                </div>
                                <div class="nav-icon">
                                    <i class="fas fa-user"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –®–∞–±–ª–æ–Ω –¥–∞—à–±–æ—Ä–¥–∞ -->
                <div class="template-card">
                    <div class="template-header">
                        <h3><i class="fas fa-chart-line"></i> –î–∞—à–±–æ—Ä–¥</h3>
                    </div>
                    <div class="template-preview">
                        <div class="dashboard-app" id="dashboardTemplate">
                            <div class="dashboard-header" id="dashboardHeader">
                                <div>
                                    <div style="font-size: 18px; font-weight: 600;">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</div>
                                    <div style="font-size: 12px;">–°–µ–≥–æ–¥–Ω—è, 15 –Ω–æ—è–±—Ä—è</div>
                                </div>
                                <div class="user-info">
                                    <div class="user-avatar">
                                        <i class="fas fa-user"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="dashboard-content">
                                <div class="stats-grid">
                                    <div class="stat-card" id="stat1">
                                        <div class="stat-title">–ü–æ—Å–µ—Ç–∏—Ç–µ–ª–∏</div>
                                        <div class="stat-value">2.4K</div>
                                    </div>
                                    <div class="stat-card" id="stat2">
                                        <div class="stat-title">–ü—Ä–æ–¥–∞–∂–∏</div>
                                        <div class="stat-value">$12.8K</div>
                                    </div>
                                    <div class="stat-card" id="stat3">
                                        <div class="stat-title">–ó–∞–∫–∞–∑—ã</div>
                                        <div class="stat-value">348</div>
                                    </div>
                                    <div class="stat-card" id="stat4">
                                        <div class="stat-title">–ö–æ–Ω–≤–µ—Ä—Å–∏—è</div>
                                        <div class="stat-value">4.8%</div>
                                    </div>
                                </div>
                                <div class="chart-container">
                                    <div style="font-size: 14px; font-weight: 600; margin-bottom: 15px;">–ü—Ä–æ–¥–∞–∂–∏ –∑–∞ –Ω–µ–¥–µ–ª—é</div>
                                    <div class="chart">
                                        <div class="chart-bar" id="chartBar1" style="left: 40px; height: 60%;"></div>
                                        <div class="chart-bar" id="chartBar2" style="left: 80px; height: 80%;"></div>
                                        <div class="chart-bar" id="chartBar3" style="left: 120px; height: 45%;"></div>
                                        <div class="chart-bar" id="chartBar4" style="left: 160px; height: 90%;"></div>
                                        <div class="chart-bar" id="chartBar5" style="left: 200px; height: 70%;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ü–∞–Ω–µ–ª—å –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –ø—Ä–µ–≤—å—é -->
            <div class="actions-bar" style="margin-top: 30px;">
                <button class="btn btn-primary" id="refreshPreviewBtn">
                    <i class="fas fa-sync-alt"></i>
                    –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–µ–≤—å—é
                </button>
                <button class="btn btn-secondary" id="backToGeneratorBtn">
                    <i class="fas fa-palette"></i>
                    –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—É
                </button>
            </div>
        </div>

        <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
        <div class="notification" id="notification">
            <i class="fas fa-check-circle"></i>
            <span id="notificationText">–¢–µ–∫—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
        </div>

        <!-- –§—É—Ç–µ—Ä -->
        <footer class="footer">
            <p>Color Wizard v1.0 ‚Ä¢ –ò–¥–µ–∞–ª—å–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è –≤–∞—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤</p>
            <p style="margin-top: 5px; font-size: 0.8rem;">
                <i class="fas fa-mobile-alt"></i> –†–∞–±–æ—Ç–∞–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ Telegram
            </p>
        </footer>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        const tg = window.Telegram?.WebApp;
        if (tg) {
            tg.ready();
            tg.expand();
        }

        // –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
        let currentColor = '#FF6B6B';
        let currentPalette = [];
        let savedPalettes = JSON.parse(localStorage.getItem('savedPalettes')) || [];

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            initSimpleColorWheel();
            createParticles();
            generatePalette();
            setupEventListeners();
            initNavigation();
            showNotification('–ì–æ—Ç–æ–≤ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –ø–∞–ª–∏—Ç—Ä!', 'success');
        });

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
        function initNavigation() {
            const navButtons = document.querySelectorAll('.nav-btn');
            const pages = document.querySelectorAll('.page');
            
            navButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const pageId = button.dataset.page;
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
                    navButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
                    pages.forEach(page => {
                        page.classList.remove('active');
                        if (page.id === pageId) {
                            page.classList.add('active');
                        }
                    });
                    
                    if (pageId === 'preview') {
                        updateTemplatePreviews();
                    }
                    
                    showNotification(`–ü–µ—Ä–µ—à–ª–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É: ${button.textContent.trim()}`, 'info');
                });
            });
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ —á–∞—Å—Ç–∏—Ü —Ñ–æ–Ω–∞
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 30;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                const size = Math.random() * 4 + 1;
                const duration = Math.random() * 20 + 10;
                const delay = Math.random() * 5;
                const color = `rgba(${Math.floor(Math.random() * 100)}, 
                                   ${Math.floor(Math.random() * 200)}, 
                                   ${Math.floor(Math.random() * 255)}, 
                                   ${Math.random() * 0.3 + 0.1})`;
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${Math.random() * 100}vw`;
                particle.style.background = color;
                particle.style.setProperty('--duration', `${duration}s`);
                particle.style.animationDelay = `${delay}s`;
                
                particlesContainer.appendChild(particle);
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Ü–≤–µ—Ç–æ–≤–æ–≥–æ –∫—Ä—É–≥–∞
        function initSimpleColorWheel() {
            const wheel = document.getElementById('simpleWheel');
            const pointer = document.getElementById('wheelPointer');
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é —É–∫–∞–∑–∞—Ç–µ–ª—è
            pointer.style.left = '75%';
            pointer.style.top = '50%';
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ –∫—Ä—É–≥—É
            wheel.addEventListener('click', function(e) {
                const rect = wheel.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                // –ü–µ—Ä–µ–º–µ—â–∞–µ–º —É–∫–∞–∑–∞—Ç–µ–ª—å
                pointer.style.left = x + 'px';
                pointer.style.top = y + 'px';
                
                // –í—ã—á–∏—Å–ª—è–µ–º —É–≥–æ–ª –∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                const dx = x - centerX;
                const dy = y - centerY;
                
                // –í—ã—á–∏—Å–ª—è–µ–º —É–≥–æ–ª (0-360 –≥—Ä–∞–¥—É—Å–æ–≤)
                let angle = Math.atan2(dy, dx) * 180 / Math.PI;
                if (angle < 0) angle += 360;
                
                // –í—ã—á–∏—Å–ª—è–µ–º –Ω–∞—Å—ã—â–µ–Ω–Ω–æ—Å—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –æ—Ç —Ü–µ–Ω—Ç—Ä–∞
                const distance = Math.sqrt(dx * dx + dy * dy);
                const maxDistance = centerX;
                let saturation = Math.min(100, (distance / maxDistance) * 100);
                
                // –ï—Å–ª–∏ –∫–ª–∏–∫ –±–ª–∏–∑–∫–æ –∫ —Ü–µ–Ω—Ç—Ä—É, –¥–µ–ª–∞–µ–º –±–µ–ª—ã–π —Ü–≤–µ—Ç
                if (distance < 20) {
                    currentColor = '#FFFFFF';
                } else {
                    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ü–≤–µ—Ç –ø–æ HSL
                    currentColor = hslToHex(angle, saturation, 50);
                }
                
                updateColor(currentColor);
            });
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞–ª–∏—Ç—Ä—ã
        function generatePalette(baseColor = currentColor) {
            currentPalette = generateColorScheme(baseColor);
            renderPalette();
            renderGradient();
            renderColorSchemes();
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ü–≤–µ—Ç–æ–≤–æ–π —Å—Ö–µ–º—ã
        function generateColorScheme(baseColor) {
            const hex = baseColor.replace('#', '');
            const r = parseInt(hex.substr(0, 2), 16);
            const g = parseInt(hex.substr(2, 2), 16);
            const b = parseInt(hex.substr(4, 2), 16);
            
            const hsl = rgbToHsl(r, g, b);
            const colors = [];
            
            // –û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç
            colors.push(baseColor);
            
            // –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ —Ü–≤–µ—Ç–∞
            colors.push(hslToHex((hsl[0] + 30) % 360, hsl[1], hsl[2]));
            colors.push(hslToHex((hsl[0] - 30 + 360) % 360, hsl[1], hsl[2]));
            
            // –ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–µ —Ü–≤–µ—Ç–∞
            colors.push(hslToHex((hsl[0] + 180) % 360, hsl[1], hsl[2]));
            colors.push(hslToHex((hsl[0] + 120) % 360, hsl[1], hsl[2]));
            
            return colors;
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–∞–ª–∏—Ç—Ä—ã
        function renderPalette() {
            const paletteContainer = document.getElementById('colorPalette');
            paletteContainer.innerHTML = '';
            
            currentPalette.forEach((color, index) => {
                const colorItem = document.createElement('div');
                colorItem.className = 'color-item';
                colorItem.style.background = color;
                colorItem.dataset.color = color;
                
                const colorCode = document.createElement('div');
                colorCode.className = 'color-code';
                colorCode.textContent = color;
                
                colorItem.appendChild(colorCode);
                
                colorItem.addEventListener('click', function() {
                    // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö
                    document.querySelectorAll('.color-item').forEach(item => {
                        item.classList.remove('active');
                    });
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Ç–µ–∫—É—â–µ–º—É
                    this.classList.add('active');
                    
                    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç
                    currentColor = color;
                    updateColor(color);
                });
                
                // –ü–µ—Ä–≤—ã–π —Ü–≤–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
                if (index === 0) {
                    colorItem.classList.add('active');
                }
                
                paletteContainer.appendChild(colorItem);
            });
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞
        function renderGradient() {
            const gradientPreview = document.getElementById('gradientPreview');
            const gradientCode = gradientPreview.querySelector('.gradient-code') || 
                                document.createElement('div');
            
            // –°–æ–∑–¥–∞–µ–º –∫—Ä–∞—Å–∏–≤—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç –∏–∑ –ø–∞–ª–∏—Ç—Ä—ã
            const gradient = `linear-gradient(135deg, ${currentPalette[0]}, ${currentPalette[2]}, ${currentPalette[4]})`;
            gradientPreview.style.background = gradient;
            
            gradientCode.className = 'gradient-code';
            gradientCode.textContent = `${currentPalette[0]} ‚Üí ${currentPalette[2]} ‚Üí ${currentPalette[4]}`;
            
            if (!gradientPreview.contains(gradientCode)) {
                gradientPreview.appendChild(gradientCode);
            }
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤—ã—Ö —Å—Ö–µ–º
        function renderColorSchemes() {
            const schemesGrid = document.getElementById('schemesGrid');
            schemesGrid.innerHTML = '';
            
            const schemes = [
                { name: '–ú–æ–Ω–æ—Ö—Ä–æ–º', icon: 'fas fa-circle', type: 'monochrome' },
                { name: '–ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è', icon: 'fas fa-sliders-h', type: 'analogous' },
                { name: '–¢—Ä–∏–∞–¥–∞', icon: 'fas fa-play-circle', type: 'triad' },
                { name: '–ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–∞—è', icon: 'fas fa-adjust', type: 'complementary' },
                { name: '–ù–µ–æ–Ω', icon: 'fas fa-bolt', type: 'neon' },
                { name: '–ü–∞—Å—Ç–µ–ª—å', icon: 'fas fa-cloud', type: 'pastel' },
                { name: '–†–∞–¥—É–≥–∞', icon: 'fas fa-rainbow', type: 'rainbow' },
                { name: '–¢—ë–º–Ω–∞—è', icon: 'fas fa-moon', type: 'dark' }
            ];
            
            schemes.forEach(scheme => {
                const button = document.createElement('button');
                button.className = 'scheme-btn';
                button.innerHTML = `
                    <i class="${scheme.icon}"></i>
                    <div style="margin-top: 5px; font-size: 0.9rem;">${scheme.name}</div>
                `;
                
                button.addEventListener('click', () => {
                    applyColorScheme(scheme.type);
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
                    document.querySelectorAll('.scheme-btn').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    button.classList.add('active');
                });
                
                schemesGrid.appendChild(button);
            });
        }

        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤–æ–π —Å—Ö–µ–º—ã
        function applyColorScheme(schemeType) {
            const hex = currentColor.replace('#', '');
            const r = parseInt(hex.substr(0, 2), 16);
            const g = parseInt(hex.substr(2, 2), 16);
            const b = parseInt(hex.substr(4, 2), 16);
            const hsl = rgbToHsl(r, g, b);
            
            let newPalette = [];
            
            switch(schemeType) {
                case 'monochrome':
                    newPalette = generateMonochromatic(hsl);
                    break;
                case 'analogous':
                    newPalette = generateAnalogous(hsl);
                    break;
                case 'triad':
                    newPalette = generateTriad(hsl);
                    break;
                case 'complementary':
                    newPalette = generateComplementary(hsl);
                    break;
                case 'neon':
                    newPalette = generateNeon(hsl);
                    break;
                case 'pastel':
                    newPalette = generatePastel(hsl);
                    break;
                case 'rainbow':
                    newPalette = generateRainbow();
                    break;
                case 'dark':
                    newPalette = generateDark(hsl);
                    break;
            }
            
            currentPalette = newPalette;
            renderPalette();
            renderGradient();
            showNotification(`–°—Ö–µ–º–∞ "${schemeType}" –ø—Ä–∏–º–µ–Ω–µ–Ω–∞`, 'info');
        }

        // –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ö–µ–º
        function generateMonochromatic(hsl) {
            return [
                hslToHex(hsl[0], hsl[1], hsl[2]),
                hslToHex(hsl[0], hsl[1], hsl[2] + 15),
                hslToHex(hsl[0], hsl[1], hsl[2] + 30),
                hslToHex(hsl[0], hsl[1], hsl[2] - 15),
                hslToHex(hsl[0], hsl[1], hsl[2] - 30)
            ];
        }

        function generateAnalogous(hsl) {
            return [
                hslToHex((hsl[0] - 30 + 360) % 360, hsl[1], hsl[2]),
                hslToHex((hsl[0] - 15 + 360) % 360, hsl[1], hsl[2]),
                hslToHex(hsl[0], hsl[1], hsl[2]),
                hslToHex((hsl[0] + 15) % 360, hsl[1], hsl[2]),
                hslToHex((hsl[0] + 30) % 360, hsl[1], hsl[2])
            ];
        }

        function generateTriad(hsl) {
            return [
                hslToHex(hsl[0], hsl[1], hsl[2]),
                hslToHex((hsl[0] + 120) % 360, hsl[1], hsl[2]),
                hslToHex((hsl[0] + 240) % 360, hsl[1], hsl[2]),
                hslToHex((hsl[0] + 60) % 360, hsl[1], hsl[2]),
                hslToHex((hsl[0] + 180) % 360, hsl[1], hsl[2])
            ];
        }

        function generateComplementary(hsl) {
            return [
                hslToHex(hsl[0], hsl[1], hsl[2]),
                hslToHex((hsl[0] + 180) % 360, hsl[1], hsl[2]),
                hslToHex(hsl[0], hsl[1], hsl[2] + 20),
                hslToHex((hsl[0] + 180) % 360, hsl[1], hsl[2] + 20),
                hslToHex(hsl[0], hsl[1], hsl[2] - 20)
            ];
        }

        function generateNeon(hsl) {
            return [
                hslToHex(hsl[0], 100, 60),
                hslToHex((hsl[0] + 30) % 360, 100, 60),
                hslToHex((hsl[0] + 60) % 360, 100, 60),
                hslToHex((hsl[0] + 90) % 360, 100, 60),
                hslToHex((hsl[0] + 120) % 360, 100, 60)
            ];
        }

        function generatePastel(hsl) {
            return [
                hslToHex(hsl[0], 40, 85),
                hslToHex((hsl[0] + 30) % 360, 40, 85),
                hslToHex((hsl[0] + 60) % 360, 40, 85),
                hslToHex((hsl[0] + 90) % 360, 40, 85),
                hslToHex((hsl[0] + 120) % 360, 40, 85)
            ];
        }

        function generateRainbow() {
            return [
                '#FF6B6B', // –ö—Ä–∞—Å–Ω—ã–π
                '#FFD166', // –ñ–µ–ª—Ç—ã–π
                '#06D6A0', // –ó–µ–ª–µ–Ω—ã–π
                '#118AB2', // –°–∏–Ω–∏–π
                '#7209B7'  // –§–∏–æ–ª–µ—Ç–æ–≤—ã–π
            ];
        }

        function generateDark(hsl) {
            return [
                hslToHex(hsl[0], hsl[1], 20),
                hslToHex((hsl[0] + 30) % 360, hsl[1], 25),
                hslToHex((hsl[0] + 60) % 360, hsl[1], 30),
                hslToHex((hsl[0] + 90) % 360, hsl[1], 35),
                hslToHex((hsl[0] + 120) % 360, hsl[1], 40)
            ];
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Ü–≤–µ—Ç–∞
        function updateColor(color) {
            currentColor = normalizeColor(color);
            document.getElementById('colorCode').value = currentColor;
            document.getElementById('colorPreview').style.background = currentColor;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø–∞–ª–∏—Ç—Ä—É
            generatePalette(currentColor);
            
            showNotification(`–¶–≤–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: ${currentColor}`, 'success');
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ –ø—Ä–µ–≤—å—é
        function updateTemplatePreviews() {
            if (currentPalette.length < 5) return;
            
            const [primary, secondary, accent, text, background] = currentPalette;
            
            // –ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä
            const messengerHeader = document.getElementById('messengerHeader');
            const incomingMsg = document.getElementById('incomingMsg');
            const outgoingMsg = document.getElementById('outgoingMsg');
            const sendBtn = document.querySelector('.send-btn');
            
            messengerHeader.style.background = primary;
            incomingMsg.style.background = lightenColor(secondary, 40);
            incomingMsg.style.color = getContrastColor(secondary);
            outgoingMsg.style.background = accent;
            outgoingMsg.style.color = getContrastColor(accent);
            sendBtn.style.background = primary;
            
            // –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω
            const ecommerceHeader = document.getElementById('ecommerceHeader');
            const prices = document.querySelectorAll('.product-price');
            const activeNavIcon = document.querySelector('.nav-icon.active');
            
            ecommerceHeader.style.background = primary;
            prices.forEach((price, index) => {
                price.style.color = index % 2 === 0 ? accent : secondary;
            });
            activeNavIcon.style.color = primary;
            
            // –î–∞—à–±–æ—Ä–¥
            const dashboardHeader = document.getElementById('dashboardHeader');
            const stats = document.querySelectorAll('.stat-card');
            const chartBars = document.querySelectorAll('.chart-bar');
            
            dashboardHeader.style.background = primary;
            stats.forEach((stat, index) => {
                stat.style.background = index % 2 === 0 ? lightenColor(accent, 70) : lightenColor(secondary, 70);
                stat.style.color = getContrastColor(stat.style.background);
            });
            
            chartBars.forEach((bar, index) => {
                const colors = [primary, secondary, accent, text, background];
                bar.style.background = colors[index] || primary;
            });
            
            showNotification('–ü—Ä–µ–≤—å—é —à–∞–±–ª–æ–Ω–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–æ!', 'success');
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ü–≤–µ—Ç–∞–º–∏
        function normalizeColor(color) {
            color = color.trim();
            
            if (color.startsWith('#')) {
                if (color.length === 7) {
                    const r = color[1] + color[2];
                    const g = color[3] + color[4];
                    const b = color[5] + color[6];
                    
                    if (r[0] === r[1] && g[0] === g[1] && b[0] === b[1]) {
                        return '#' + r[0] + g[0] + b[0];
                    }
                }
                return color.toUpperCase();
            }
            
            if (color.toLowerCase().startsWith('rgb')) {
                try {
                    const match = color.match(/(\d+),\s*(\d+),\s*(\d+)/);
                    if (match) {
                        const r = parseInt(match[1]);
                        const g = parseInt(match[2]);
                        const b = parseInt(match[3]);
                        return rgbToHex(r, g, b);
                    }
                } catch (e) {
                    console.error('Error parsing RGB color:', e);
                }
            }
            
            if (color.toLowerCase().startsWith('hsl')) {
                try {
                    const match = color.match(/(\d+),\s*(\d+)%,\s*(\d+)%/);
                    if (match) {
                        const h = parseInt(match[1]);
                        const s = parseInt(match[2]);
                        const l = parseInt(match[3]);
                        return hslToHex(h, s, l);
                    }
                } catch (e) {
                    console.error('Error parsing HSL color:', e);
                }
            }
            
            const ctx = document.createElement('canvas').getContext('2d');
            ctx.fillStyle = color;
            const result = ctx.fillStyle;
            return result.startsWith('#') ? result : '#FF6B6B';
        }

        function getContrastColor(hexcolor) {
            hexcolor = hexcolor.replace('#', '');
            const r = parseInt(hexcolor.substr(0, 2), 16);
            const g = parseInt(hexcolor.substr(2, 2), 16);
            const b = parseInt(hexcolor.substr(4, 2), 16);
            const brightness = (r * 299 + g * 587 + b * 114) / 1000;
            return brightness > 128 ? '#000000' : '#FFFFFF';
        }

        function lightenColor(color, percent) {
            const num = parseInt(color.replace('#', ''), 16);
            const amt = Math.round(2.55 * percent);
            const R = (num >> 16) + amt;
            const G = (num >> 8 & 0x00FF) + amt;
            const B = (num & 0x0000FF) + amt;
            
            return '#' + (
                0x1000000 +
                (R < 255 ? R < 1 ? 0 : R : 255) * 0x10000 +
                (G < 255 ? G < 1 ? 0 : G : 255) * 0x100 +
                (B < 255 ? B < 1 ? 0 : B : 255)
            ).toString(16).slice(1);
        }

        // –ü–æ–∫–∞–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            const text = document.getElementById('notificationText');
            
            if (type === 'success') {
                notification.style.background = 'linear-gradient(90deg, #00ff88, #00ffff)';
            } else if (type === 'error') {
                notification.style.background = 'linear-gradient(90deg, #ff4757, #ff6b81)';
            } else {
                notification.style.background = 'linear-gradient(90deg, #00a8ff, #0097e6)';
            }
            
            text.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 2000);
        }

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
        function setupEventListeners() {
            // –í—ã–±–æ—Ä —Ü–≤–µ—Ç–∞ —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–∏–∫–µ—Ä
            document.getElementById('colorPickerBtn').addEventListener('click', () => {
                document.getElementById('colorInput').click();
            });
            
            document.getElementById('colorInput').addEventListener('input', (e) => {
                updateColor(e.target.value);
            });
            
            // –°–ª—É—á–∞–π–Ω—ã–π —Ü–≤–µ—Ç
            document.getElementById('randomColorBtn').addEventListener('click', () => {
                const randomColor = '#' + Math.floor(Math.random() * 16777215).toString(16).padStart(6, '0');
                updateColor(randomColor);
            });
            
            // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –∏–∑ –ø–æ–ª—è –≤–≤–æ–¥–∞
            document.getElementById('applyColorBtn').addEventListener('click', () => {
                const colorInput = document.getElementById('colorCode').value;
                updateColor(colorInput);
            });
            
            // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–≤–µ—Ç–∞
            document.getElementById('copyColorBtn').addEventListener('click', () => {
                navigator.clipboard.writeText(currentColor).then(() => {
                    showNotification('–¶–≤–µ—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!', 'success');
                });
            });
            
            // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–π –ø–∞–ª–∏—Ç—Ä—ã
            document.getElementById('copyAllBtn').addEventListener('click', () => {
                const paletteText = currentPalette.join('\n');
                navigator.clipboard.writeText(paletteText).then(() => {
                    showNotification('–í—Å—è –ø–∞–ª–∏—Ç—Ä–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!', 'success');
                });
            });
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–π –ø–∞–ª–∏—Ç—Ä—ã
            document.getElementById('generatePaletteBtn').addEventListener('click', () => {
                const randomColor = '#' + Math.floor(Math.random() * 16777215).toString(16).padStart(6, '0');
                updateColor(randomColor);
            });
            
            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞–ª–∏—Ç—Ä—ã
            document.getElementById('saveBtn').addEventListener('click', () => {
                savePalette();
            });
            
            // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –ø–æ –Ω–∞–∂–∞—Ç–∏—é Enter
            document.getElementById('colorCode').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    updateColor(e.target.value);
                }
            });
            
            // –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫ –ø—Ä–µ–≤—å—é
            document.getElementById('applyToPreviewBtn').addEventListener('click', () => {
                updateTemplatePreviews();
                document.querySelector('.nav-btn[data-page="preview"]').click();
            });
            
            // –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–µ–≤—å—é
            document.getElementById('refreshPreviewBtn').addEventListener('click', () => {
                updateTemplatePreviews();
            });
            
            // –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—É
            document.getElementById('backToGeneratorBtn').addEventListener('click', () => {
                document.querySelector('.nav-btn[data-page="generator"]').click();
            });
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞–ª–∏—Ç—Ä—ã
        function savePalette() {
            const palette = {
                id: Date.now(),
                colors: currentPalette,
                primary: currentPalette[0],
                date: new Date().toLocaleString(),
                name: `–ü–∞–ª–∏—Ç—Ä–∞ ${savedPalettes.length + 1}`
            };
            
            savedPalettes.push(palette);
            localStorage.setItem('savedPalettes', JSON.stringify(savedPalettes));
            
            showNotification('–ü–∞–ª–∏—Ç—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ!', 'success');
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ü–≤–µ—Ç–∞–º–∏
        function rgbToHex(r, g, b) {
            return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase();
        }

        function rgbToHsl(r, g, b) {
            r /= 255;
            g /= 255;
            b /= 255;
            
            const max = Math.max(r, g, b);
            const min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;
            
            if (max === min) {
                h = s = 0;
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                
                switch(max) {
                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                    case g: h = (b - r) / d + 2; break;
                    case b: h = (r - g) / d + 4; break;
                }
                
                h /= 6;
            }
            
            return [Math.round(h * 360), Math.round(s * 100), Math.round(l * 100)];
        }

        function hslToHex(h, s, l) {
            h = h % 360;
            s = Math.max(0, Math.min(100, s));
            l = Math.max(0, Math.min(100, l));
            
            s /= 100;
            l /= 100;
            
            const c = (1 - Math.abs(2 * l - 1)) * s;
            const x = c * (1 - Math.abs((h / 60) % 2 - 1));
            const m = l - c / 2;
            
            let r, g, b;
            
            if (h >= 0 && h < 60) {
                [r, g, b] = [c, x, 0];
            } else if (h >= 60 && h < 120) {
                [r, g, b] = [x, c, 0];
            } else if (h >= 120 && h < 180) {
                [r, g, b] = [0, c, x];
            } else if (h >= 180 && h < 240) {
                [r, g, b] = [0, x, c];
            } else if (h >= 240 && h < 300) {
                [r, g, b] = [x, 0, c];
            } else {
                [r, g, b] = [c, 0, x];
            }
            
            r = Math.round((r + m) * 255);
            g = Math.round((g + m) * 255);
            b = Math.round((b + m) * 255);
            
            return `#${((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase()}`;
        }
    </script>
</body>
</html>